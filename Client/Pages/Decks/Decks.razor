@layout AppShell
@page "/decks"
@inherits DecksBase

@if (Decks.Count > 0){
    <div class="deck-browser">
        @for (int i = 0; i < Decks.Count; i++){
            var Deck = Decks[i];
            <div class="deck">
                <a href="/decks/edit/@Deck.UID" class="bg-grey-100 ar-12:17 mx-auto mb-1 radius-0.5 p-1" style="width: 200px;" flex="justify-center items-center">
                    @if(Deck.Cards.Count == 0){
                        <span class="text-center inline-block font-grey-700 font-xs line-normal">This deck doesn't have any cards.</span>
                    } else {
                        for (int c = 0; c < Deck.Cards.Count; c++){
                            if (c == 3){
                                break;
                            }
                            <img draggable="false" src="http://api.divinedrop.local/v1/image/@Deck.Cards[c]">
                        }
                    }
                </a>
                <h2 class="block font-grey-800 font-bold line-snug w-full text-center">@Deck.Name</h2>
                <div class="w-full text-center" flex="items-center justify-center row nowrap">
                    <button tooltip="Rename deck" aria-label="rename deck @Deck.Name" @onclick="@(e => RenameDeck(Deck.UID, Deck.Name))">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22.5 19.7" stroke="currentColor" fill="none">
                            <polyline stroke-width="2" points="12.24 14.32 1 14.32 1 5.59 12.24 5.59" style="stroke-linecap:round;stroke-linejoin:round;"/>
                            <polyline stroke-width="2" points="15.84 5.59 21.5 5.59 21.5 14.32 15.84 14.32" style="stroke-linecap:round;stroke-linejoin:round;"/>
                            <path stroke-width="2" d="M13,7.74" transform="translate(-0.75 -2.15)" style="stroke-linecap:round;stroke-linejoin:round;"/>
                            <path stroke-width="2" d="M13,16.47" transform="translate(-0.75 -2.15)" style="stroke-linecap:round;stroke-linejoin:round;"/>
                            <path stroke-width="2" d="M18.35,7.74" transform="translate(-0.75 -2.15)" style="stroke-linecap:round;stroke-linejoin:round;"/>
                            <path stroke-width="2" d="M18.35,16.47" transform="translate(-0.75 -2.15)" style="stroke-linecap:round;stroke-linejoin:round;"/>
                            <path stroke-width="2" d="M12.35,3.15c4.24,0,4.24,1.4,4.24,1.4V13.1" transform="translate(-0.75 -2.15)" style="stroke-linecap:round;stroke-linejoin:round;"/>
                            <path stroke-width="2" d="M20.84,3.15c-4.25,0-4.25,1.4-4.25,1.4V13.1" transform="translate(-0.75 -2.15)" style="stroke-linecap:round;stroke-linejoin:round;"/>
                            <path stroke-width="2" d="M12.35,20.85c4.24,0,4.24-1.4,4.24-1.4V10.9" transform="translate(-0.75 -2.15)" style="stroke-linecap:round;stroke-linejoin:round;"/>
                            <path stroke-width="2" d="M20.84,20.85c-4.25,0-4.25-1.4-4.25-1.4V10.9" transform="translate(-0.75 -2.15)" style="stroke-linecap:round;stroke-linejoin:round;"/>
                            <line stroke-width="2" x1="3.68" y1="9.95" x2="11.11" y2="9.95" style="stroke-linecap:round;stroke-linejoin:round;"/>
                        </svg>
                    </button>
                    <button tooltip="Delete deck" aria-label="delete deck @Deck.Name" @onclick="@(e => DeleteDeck(Deck.UID, Deck.Name))">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                    </button>
                </div>
            </div>
        }
    </div>
    <div class="block w-full text-center">
        <a href="/decks/new" class="button -solid -primary -rounded">
            Create a Deck
        </a>
    </div>
} else {
    <div class="block w-full text-center py-4">
        <p class="font-grey-700 line-normal mb-1">It looks like you don't have any decks.</p>
        <a href="/decks/new" class="button -solid -primary -rounded">
            Create a Deck
        </a>
    </div>
}